!function(i){i.fn.tinyValidation=function(a){var t={immediateValidation:!1,disableSubmit:!0,validateOnBlur:!0,validateOnKeyUp:!1,errorClass:"error",validClass:"valid",onValid:null,onError:null,validators:{email:function(i){var a=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return i.match(a)?!0:"Please enter a valid email"},notEmpty:function(i){return""!=i?!0:"This field is required"},matchesOtherField:function(a){var t=i(i(this).data("match-field-selector"));return a===t.val()}}};return a=i.extend(!0,t,a),this.each(function(){var t=i(this),l=0;a.disableSubmit&&t.find(":submit").prop("disabled",!0),t.find("input, textarea").each(function(){if(i(this).data("validate")){l++;var s=i(this).data("validate").split(/\s*,\s*|\s+/),e=!1,n=a.immediateValidation,r=function(r){var d,o,h,u=i(this).val(),c=[];for("keyup"===r.type&&9!==r.which&&16!==r.which&&(e=!0),"blur"===r.type&&e&&(n=!0),d=0;d<s.length;d++)o=s[d],h=a.validators[o].call(this,u),(0==h||"string"==typeof h)&&c.push(h||"This field has an error");c.length>0&&n?(i(this).addClass(a.errorClass),i(this).removeClass(a.validClass),"function"==typeof a.onError&&a.onError.call(this,c)):0===c.length&&(i(this).addClass(a.validClass),i(this).removeClass(a.errorClass),"function"==typeof a.onValid&&a.onValid.call(this)),a.disableSubmit&&(t.find("."+a.validClass).length==l?t.find(":submit").prop("disabled",!1):t.find(":submit").prop("disabled",!0))};a.validateOnBlur&&i(this).blur(r),a.validateOnKeyUp&&i(this).keyup(r),i(this).is(":checkbox")&&i(this).change(r),a.disableSubmit&&(i(this).bind("input",r),i(this).trigger("input")),t.data("validate-on-load")===!0&&r.call(this)}})}),this}}(jQuery);
